<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Lead - Omvix CRM</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/style.css">
</head>
<body class="crm-page">
  <nav class="crm-nav">
    <a href="dashboard.html">Dashboard</a>
    <a href="lead-list.html">Leads</a>
    <a href="followup-list.html">Follow-Ups</a>
    <a href="meetings-list.html">Meetings</a>
    <a href="task-list.html">Tasks</a>
    <a href="reports.html">Reports</a>
  </nav>
  <h1>Add New Lead</h1>
  <form>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" name="name" required>
    </div>
    <div class="form-group">
      <label for="phone">Phone</label>
      <input type="tel" id="phone" name="phone" required>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" name="email">
    </div>
    <div class="form-group">
      <label for="address">Address (One Line)</label>
      <input type="text" id="address" name="address">
    </div>
    <div class="form-group">
      <label>Current Location (Auto Fetched)</label>
      <iframe id="map" class="map-frame" src="https://maps.google.com/maps?q=28.6139,77.2090&z=15&output=embed"></iframe>
    </div>
    <div class="form-group">
      <label for="latitude">Latitude</label>
      <input type="text" id="latitude" name="latitude" readonly>
    </div>
    <div class="form-group">
      <label for="longitude">Longitude</label>
      <input type="text" id="longitude" name="longitude" readonly>
    </div>
    <div class="form-group">
      <label for="lead_type">Lead Type</label>
      <select id="lead_type" name="lead_type">
        <option>Customer</option>
        <option>Partner</option>
        <option>Service Provider</option>
      </select>
    </div>
    <div class="form-group">
      <label for="lead_subtype">Lead Sub-Type</label>
      <select id="lead_subtype" name="lead_subtype">
        <option>Individual</option>
        <option>Builder</option>
        <option>Architect</option>
        <option>Institution</option>
        <option>Electrical Contractor</option>
        <option>Others</option>
      </select>
    </div>
    <div class="form-group">
      <label for="interested_in">Interested In</label>
      <textarea id="interested_in" name="interested_in" rows="2" placeholder="e.g., Smart Locks, Mesh WiFi, Sensors..."></textarea>
    </div>
    <div class="form-group">
      <label for="source">Source</label>
      <select id="source" name="source">
        <option>Website</option>
        <option>Ad</option>
        <option>Referral</option>
        <option>Walk-in</option>
        <option>Campaign</option>
        <option>Manual</option>
      </select>
    </div>
    <div class="form-group">
      <label for="notes">Notes</label>
      <textarea id="notes" name="notes" rows="3"></textarea>
    </div>
    <button type="submit" class="submit-btn">Save Lead</button>
  </form>

  <script>
    // Attempt to fetch geolocation
    window.onload = function () {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
          const lat = position.coords.latitude.toFixed(6);
          const lng = position.coords.longitude.toFixed(6);
          document.getElementById("latitude").value = lat;
          document.getElementById("longitude").value = lng;
          document.getElementById("map").src = `https://maps.google.com/maps?q=${lat},${lng}&z=15&output=embed`;
        });
      }
    };
  </script>
</body>
</html>
